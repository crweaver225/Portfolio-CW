
<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  






  
  
  
    
  





  



<link rel="stylesheet" href="//localhost:1313/scss/main.css" />


<link rel="stylesheet" href="//localhost:1313/custom.css" />

  
<meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  

<title>Constructors and Move Semantics in C&#43;&#43; | Christopher Weaver</title>


<meta name="author" content="Christopher Weaver">

<meta name="description" content="Portfolio site of Christopher Weaver.">
<link rel="canonical" href="//localhost:1313/engineering/constructors-and-move-semantics-in-cpp/">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Constructors and Move Semantics in Cpp">
<meta property="og:description" content="Constructors
    
      Link to this heading
      
      
    
  
It is fair to say C&#43;&#43; is not explicitly an object-oriented programming language. You can certainly use C&#43;&#43; with other paradigms. But C&#43;&#43; has all the tools needed for object orientation and has a long history of being used in that way. One of the foundational parts of an object in C&#43;&#43; is its constructor. The constructor is invoked automatically during the initialization of an object and, as we will see, can be overloaded in a bunch of different ways.">
<meta property="og:url" content="//localhost:1313/engineering/constructors-and-move-semantics-in-cpp/">
<meta property="article:published_time" content="2024-04-01T09:38:32-06:00">
  <meta property="article:modified_time" content="2024-04-01T09:38:32-06:00">
  


  <meta name="og:image" content="//localhost:1313/images/default.png"/>





  <meta property="og:see_also" content="//localhost:1313/engineering/functional-programming-in-c-/" /><meta property="og:see_also" content="//localhost:1313/engineering/building-a-log-utility-class-in-cpp/" /><meta property="og:see_also" content="//localhost:1313/engineering/building-a-thread-pool/" /><meta property="og:see_also" content="//localhost:1313/engineering/concurrency-in-c-/" /><meta property="og:see_also" content="//localhost:1313/engineering/building-neural-networks-in-c-/" /><meta property="og:see_also" content="//localhost:1313/engineering/compile-time-programming-in-c-/" />
  


  <meta name="twitter:site" content="johndoestwitter">


  <meta name="twitter:creator" content="johndoestwitter">

<meta name="twitter:title" content="Constructors and Move Semantics in Cpp">
<meta name="twitter:description" content="Constructors
    
      Link to this heading
      
      
    
  
It is fair to say C&#43;&#43; is not explicitly an object-oriented programming language. You can certainly use C&#43;&#43; with other paradigms. But C&#43;&#43; has all the tools needed for object orientation and has a long history of being used in that way. One of the foundational parts of an object in C&#43;&#43; is its constructor. The constructor is invoked automatically during the initialization of an object and, as we will see, can be overloaded in a bunch of different ways.">



  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:image" content="//localhost:1313/images/default.png"/>





  


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Person",
      "@id": "//localhost:1313/#/schema/person/1",
      "name": "Christopher Weaver",
      "url": "//localhost:1313/",
      "image": {
        "@type": "ImageObject",
        "@id": "//localhost:1313/#/schema/image/1",
        "url": "//localhost:1313/images/default.png",
        "width": 453 ,
        "height": 455 ,
        "caption": "Christopher Weaver"
      }
    },
    {
      "@type": "WebSite",
      "@id": "//localhost:1313/#/schema/website/1",
      "url": "//localhost:1313/",
      "name": "Christopher Weaver",
      "description": "Portfolio site of Christopher Weaver.",
      "publisher": {
        "@id": "//localhost:1313/#/schema/person/1"
      }
    },
    {
      "@type": "WebPage",
      "@id": "//localhost:1313/engineering/constructors-and-move-semantics-in-cpp/",
      "url": "//localhost:1313/engineering/constructors-and-move-semantics-in-cpp/",
      "name": "Constructors and Move Semantics in C++",
      "description": "Portfolio site of Christopher Weaver.",
      "isPartOf": {
        "@id": "//localhost:1313/#/schema/website/1"
      },
      "about": {
        "@id": "//localhost:1313/#/schema/person/1"
      },
      "datePublished": "2024-04-01T09:38:32-06:00",
      "dateModified": "2024-04-01T09:38:32-06:00",
      "breadcrumb": {
        "@id": "//localhost:1313/engineering/constructors-and-move-semantics-in-cpp/#/schema/breadcrumb/1"
      },
      "primaryImageOfPage": {
        "@id": "//localhost:1313/engineering/constructors-and-move-semantics-in-cpp/#/schema/image/2"
      },
      "inLanguage": "en-US",
      "potentialAction": [{
        "@type": "ReadAction", "target": ["//localhost:1313/engineering/constructors-and-move-semantics-in-cpp/"]
      }]
    },
    {
      "@type": "BreadcrumbList",
      "@id": "//localhost:1313/engineering/constructors-and-move-semantics-in-cpp/#/schema/breadcrumb/1",
      "name": "Breadcrumbs",
      "itemListElement": [{
        "@type": "ListItem",
        "position":  1 ,
        "item": {
          "@type": "WebPage",
          "@id": "//localhost:1313/",
          "url": "//localhost:1313/",
          "name": "Home"
          }
        },{
        "@type": "ListItem",
        "position":  2 ,
        "item": {
          "@type": "WebPage",
          "@id": "//localhost:1313/engineering/",
          "url": "//localhost:1313/engineering/",
          "name": "Engineering"
          }
        },{
        "@type": "ListItem",
        "position":  3 ,
        "item": {
          "@id": "//localhost:1313/engineering/constructors-and-move-semantics-in-cpp/"
          }
        }]
    },
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Article",
          "@id": "//localhost:1313/#/schema/article/1",
          "headline": "Constructors and Move Semantics in C++",
          "description": "",
          "isPartOf": {
            "@id": "//localhost:1313/engineering/constructors-and-move-semantics-in-cpp/"
          },
          "mainEntityOfPage": {
            "@id": "//localhost:1313/engineering/constructors-and-move-semantics-in-cpp/"
          },
          "datePublished": "2024-04-01T09:38:32-06:00",
          "dateModified": "2024-04-01T09:38:32-06:00",
          "author": {
            "@id": "//localhost:1313/#/schema/person/1"
          },          
          "publisher": {
            "@id": "//localhost:1313/#/schema/person/1"
          },
          "image": {
            "@id": "//localhost:1313/engineering/constructors-and-move-semantics-in-cpp/#/schema/image/2"
          }
        }
      ]
    },{
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "ImageObject",
          "@id": "//localhost:1313/engineering/constructors-and-move-semantics-in-cpp/#/schema/image/2",
          "url": "//localhost:1313/images/default.png",
          "contentUrl": "//localhost:1313/images/default.png",
          "caption": "Constructors and Move Semantics in C++"
        }
      ]
    }
  ]
}
</script>
  

  

  
</head><body>
    <header class="container">
  <nav class="main-nav" id="js-navbar">
    <a class="logo" href="//localhost:1313/">Christopher Weaver</a>
    <ul class="menu" id="js-menu">
      
      
      
      <li class="menu-item">
        <span class="menu-link">Work<span class="drop-icon">▾</span></span>
        <ul class="sub-menu">
          
            <li class="menu-item">
              <a href="/projects/" class="menu-link">Projects</a>                  
            </li>
          
            <li class="menu-item">
              <a href="/about/" class="menu-link">About</a>                  
            </li>
          
        </ul>
      </li>
      
      
      
      <li class="menu-item">
        <span class="menu-link">Writing<span class="drop-icon">▾</span></span>
        <ul class="sub-menu">
          
            <li class="menu-item">
              <a href="/posts/" class="menu-link">All Posts</a>                  
            </li>
          
            <li class="menu-item">
              <a href="/engineering/" class="menu-link">Engineering</a>                  
            </li>
          
            <li class="menu-item">
              <a href="/philosophy/" class="menu-link">Philosophy</a>                  
            </li>
          
        </ul>
      </li>
      
      
      
      <li class="menu-item">
        <span class="menu-link">Explore<span class="drop-icon">▾</span></span>
        <ul class="sub-menu">
          
            <li class="menu-item">
              <a href="/categories/" class="menu-link">Categories</a>                  
            </li>
          
            <li class="menu-item">
              <a href="/tags/" class="menu-link">Tags</a>                  
            </li>
          
            <li class="menu-item">
              <a href="/series/" class="menu-link">Series</a>                  
            </li>
          
            <li class="menu-item">
              <a href="/project-types/" class="menu-link">Project Types</a>                  
            </li>
          
        </ul>
      </li>
      
      
      <li class="menu-item--align">
        <div class="switch">
          <input class="switch-input" type="checkbox" id="themeSwitch">
          <label aria-hidden="true" class="switch-label" for="themeSwitch">On</label>
          <div aria-hidden="true" class="switch-marker"></div>
        </div>
      </li>
    </ul>
    <span class="nav-toggle" id="js-navbar-toggle">
      <svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="30" height="30" fill="var(--color-contrast-high)"><rect y="11" width="24" height="2" rx="1"/><rect y="4" width="24" height="2" rx="1"/><rect y="18" width="24" height="2" rx="1"/></svg>
    </span>
  </nav>
</header><main class="section">
<div class="container">
  <section class="page-header">
    <h1 class="page-header-title">Constructors and Move Semantics in C&#43;&#43;</h1>
    <div class="post-list-meta">
      <div class="post-list-dates">Apr 1, 2024&nbsp;&middot;&nbsp;10 min.</div>
      
      <div class="post-list-categories">
        
          <a href="//localhost:1313/categories/engineering/">Engineering</a>
        
      </div>
      
      
    </div>
    <p class="page-header-desc"></p>
    <div class="single-terms">
      
      
      <a class="term" href="//localhost:1313/tags/c&#43;&#43;/">C&#43;&#43;</a></li>
      
      
    </div>
  </section>
</div>
<div class="single-container-post">
  

  <aside class="toc">
    <div id="js-toc-toggle">
      <h2 class="toc-header">Table of Contents</h2>
      <span class="toc-drop-icon">&blacktriangledown;</span>
    </div>
    <div id="js-toc-contents" class="toc-contents"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
        <li><a href="#copy-constructors">Copy Constructors</a></li>
        <li><a href="#l-and-r-values">L and R Values</a></li>
        <li><a href="#move-semantics">Move Semantics</a></li>
        <li><a href="#the-rule-of-5">The Rule of 5</a></li>
        <li><a href="#stdmove">std::move</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
  </aside>

  <div class="single-post-contents">
      <div class="series">
        <p>Part of the <a href="//localhost:1313/series/c&#43;&#43;/">C&#43;&#43;</a> series:</p>
        
        <ol class="series-list">
            <li>
                <a href="//localhost:1313/engineering/microbenchmarking-in-c-/">Microbenchmarking in C&#43;&#43;</a>
              
            </li>
            <li>Constructors and Move Semantics in C&#43;&#43;<span class="series-this-post">This post!</span>
              
            </li>
            <li>
                <a href="//localhost:1313/engineering/compile-time-programming-in-c-/">Compile-Time Programming in C&#43;&#43;</a>
              
            </li>
            <li>
                <a href="//localhost:1313/engineering/building-neural-networks-in-c-/">Building Neural Networks in C&#43;&#43;</a>
              
            </li>
            <li>
                <a href="//localhost:1313/engineering/concurrency-in-c-/">Concurrency in C&#43;&#43;</a>
              
            </li>
            <li>
                <a href="//localhost:1313/engineering/building-a-thread-pool/">Building a Thread Pool in C&#43;&#43;</a>
              
            </li>
            <li>
                <a href="//localhost:1313/engineering/building-a-log-utility-class-in-cpp/">Building a Log Utility Class in C&#43;&#43;</a>
              
            </li>
            <li>
                <a href="//localhost:1313/engineering/functional-programming-in-c-/">Functional Programming in C&#43;&#43;</a>
              
            </li>
        </ol>
      </div>
    
    <div class="single-feature-img">



  

</div>
    <article class="markdown">
        <h4 id="constructors">Constructors<a href="#constructors">
    <svg role="img" aria-labelledby="constructors-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="constructors-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h4><p>It is fair to say C++ is not explicitly an object-oriented programming language. You can certainly use C++ with other paradigms. But C++ has all the tools needed for object orientation and has a long history of being used in that way. One of the foundational parts of an object in C++ is its constructor. The constructor is invoked automatically during the initialization of an object and, as we will see, can be overloaded in a bunch of different ways.</p>
<h4 id="default-constructor">Default Constructor<a href="#default-constructor">
    <svg role="img" aria-labelledby="default-constructor-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="default-constructor-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h4><p>This constructor has no arguments and can be automatically synthesized by the compiler if no other user-defined constructor exists.</p>


  <span class="code-language">C&#43;&#43;</span><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>Car c; <span style="color:#999;font-style:italic">// Invokes default constructor
</span></span></span></code></pre></div>
<h4 id="parameterized-constructor">Parameterized Constructor<a href="#parameterized-constructor">
    <svg role="img" aria-labelledby="parameterized-constructor-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="parameterized-constructor-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h4><p>The parameterized constructor has one or more arguments. It will accept one or more arguments and will never be synthesized by the compiler. The usage of a parameterized constructor will block the compiler from building a default constructor.</p>


  <span class="code-language">C&#43;&#43;</span><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">class</span> <span style="color:#447fcf;text-decoration:underline">Integer</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#6ab825;font-weight:bold">int</span> m_Value;
</span></span><span style="display:flex;"><span>        <span style="color:#6ab825;font-weight:bold">int</span> n_Value;
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">public</span>:
</span></span><span style="display:flex;"><span>        Integer(<span style="color:#6ab825;font-weight:bold">int</span> value) {
</span></span><span style="display:flex;"><span>            m_Value = value;
</span></span><span style="display:flex;"><span>            n_Value = <span style="color:#3677a9">0</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        Integer(<span style="color:#6ab825;font-weight:bold">int</span> m_Value, <span style="color:#6ab825;font-weight:bold">int</span> n_Value) {
</span></span><span style="display:flex;"><span>            <span style="color:#6ab825;font-weight:bold">this</span>-&gt;m_Value = m;
</span></span><span style="display:flex;"><span>            <span style="color:#6ab825;font-weight:bold">this</span>-&gt;n_Value = n;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>The example above overloads the constructor with a couple of different options. Furthermore, you can see in the second constructor there was an ambiguous use of m_Value and n_Value between the named constructor parameters and the class members. To fix that, we use this-&gt; as a pointer to the class that helps the compiler know which value we are referring to. One issue with the code above is it will no longer automatically build a default constructor for us. Attempting to set an Integer i1; will result in a compiler error, even though all the member values should default to zero and work fine. To fix this, we can tell the compiler to build the default constructor</p>


  <span class="code-language">C&#43;&#43;</span><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">class</span> <span style="color:#447fcf;text-decoration:underline">Integer</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#6ab825;font-weight:bold">int</span> m_Value{<span style="color:#3677a9">0</span>};
</span></span><span style="display:flex;"><span>        <span style="color:#6ab825;font-weight:bold">int</span> n_Value{<span style="color:#3677a9">0</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">public</span>:
</span></span><span style="display:flex;"><span>        Integer() = <span style="color:#6ab825;font-weight:bold">default</span>;
</span></span><span style="display:flex;"><span>        Integer(<span style="color:#6ab825;font-weight:bold">int</span> value) {
</span></span><span style="display:flex;"><span>            m_Value = value;
</span></span><span style="display:flex;"><span>            n_Value = <span style="color:#3677a9">0</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        Integer(<span style="color:#6ab825;font-weight:bold">int</span> m_Value, <span style="color:#6ab825;font-weight:bold">int</span> n_Value) {
</span></span><span style="display:flex;"><span>            <span style="color:#6ab825;font-weight:bold">this</span>-&gt;m_Value = m;
</span></span><span style="display:flex;"><span>            <span style="color:#6ab825;font-weight:bold">this</span>-&gt;n_Value = n;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div>
<p>An often despised part of the C++ programming language is implicit conversions. This is something that needs to be looked out for when building constructors as well. Consider this example</p>


  <span class="code-language">C&#43;&#43;</span><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">class</span> <span style="color:#447fcf;text-decoration:underline">MyClass</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">public</span>:
</span></span><span style="display:flex;"><span>     MyClass(<span style="color:#6ab825;font-weight:bold">int</span> x) {
</span></span><span style="display:flex;"><span>        m_Value = x;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">private</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">int</span> m_Value;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">void</span> <span style="color:#447fcf">display</span>(<span style="color:#6ab825;font-weight:bold">const</span> MyClass&amp; obj) {
</span></span><span style="display:flex;"><span>    <span style="color:#999;font-style:italic">// Do something here
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>}
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">int</span> <span style="color:#447fcf">main</span>() {
</span></span><span style="display:flex;"><span>    display(<span style="color:#3677a9">10</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>This example compiles and runs because the compiler will implicitly convert the int 10 into MyClass. This is a scary prospect for a strongly typed language like C++ as it allows our program to be used in ways we did not anticipate or want. In most cases, it is best to mark the constructor as explicit to help ensure these types of conversions are not allowed</p>


  <span class="code-language">C&#43;&#43;</span><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">class</span> <span style="color:#447fcf;text-decoration:underline">MyClass</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">public</span>:
</span></span><span style="display:flex;"><span>     <span style="color:#6ab825;font-weight:bold">explicit</span> MyClass(<span style="color:#6ab825;font-weight:bold">int</span> x) {
</span></span><span style="display:flex;"><span>        m_Value = x;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">private</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">int</span> m_Value;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">void</span> <span style="color:#447fcf">display</span>(<span style="color:#6ab825;font-weight:bold">const</span> MyClass&amp; obj) {
</span></span><span style="display:flex;"><span>    <span style="color:#999;font-style:italic">// Do something here
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>}
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">int</span> <span style="color:#447fcf">main</span>() {
</span></span><span style="display:flex;"><span>    display(<span style="color:#3677a9">10</span>); <span style="color:#999;font-style:italic">// compiler error, constructor is marked explicit
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>}</span></span></code></pre></div>
<h4 id="initializer-lists">Initializer Lists<a href="#initializer-lists">
    <svg role="img" aria-labelledby="initializer-lists-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="initializer-lists-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h4><p>An initializer list in the constructor will initialize member variables to specific values just before the class constructor runs</p>


  <span class="code-language">C&#43;&#43;</span><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>Date::Date(<span style="color:#6ab825;font-weight:bold">int</span> day, <span style="color:#6ab825;font-weight:bold">int</span> month, <span style="color:#6ab825;font-weight:bold">int</span> year) : year_(year) {
</span></span><span style="display:flex;"><span>    Day(day);
</span></span><span style="display:flex;"><span>    Month(month);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>In general, unless an invariant needs to be applied to the argument being passed in, prefer initialization over assignment within the constructor. Initialization sets the value as soon as the object exists, whereas assignment sets the value only after the object comes into being. This means that assignment creates an opportunity to accidentally use a variable before its value is set. Initialization is actually a requirement for const member functions and for many use cases in dynamic polymorphism.</p>


  <span class="code-language">C&#43;&#43;</span><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">class</span> <span style="color:#447fcf;text-decoration:underline">Animal</span> {
</span></span><span style="display:flex;"><span>    std::string name_;
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">public</span>:
</span></span><span style="display:flex;"><span>        Animal(std::string name);
</span></span><span style="display:flex;"><span>        <span style="color:#6ab825;font-weight:bold">virtual</span> <span style="color:#6ab825;font-weight:bold">void</span> <span style="color:#447fcf">Talk</span>() <span style="color:#6ab825;font-weight:bold">const</span> = <span style="color:#3677a9">0</span>;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">class</span> <span style="color:#447fcf;text-decoration:underline">Dog</span>: <span style="color:#6ab825;font-weight:bold">public</span> Animal {
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">public</span>:
</span></span><span style="display:flex;"><span>        Dog(std::string name) : Animal(name) {};
</span></span><span style="display:flex;"><span>        <span style="color:#6ab825;font-weight:bold">void</span> <span style="color:#447fcf">Talk</span>() <span style="color:#6ab825;font-weight:bold">const</span> <span style="color:#6ab825;font-weight:bold">override</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Since the Dog inherits from the Animal, C++ requires we first initialize the Animal base class before we finish initializing the Dog.</p>
<h3 id="copy-constructors">Copy Constructors<a href="#copy-constructors">
    <svg role="img" aria-labelledby="copy-constructors-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="copy-constructors-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h3><p>C++ supports value and reference semantics for different needs. Passing objects by pointer or reference essentially means passing the memory address of the object so that it can be modified in other scopes. Passing by value means making a copy of the object, data being allocated to a new memory space. When passed by value, any modifications done in one scope will not be reflective in another scope. For primitive data types like int, float, bool, etc, we are safe to almost always pass the variable around by value. But often we must be more careful when working with user-defined objects</p>


  <span class="code-language">C&#43;&#43;</span><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">class</span> <span style="color:#447fcf;text-decoration:underline">Integer</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">int</span> *p_int;
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">public</span>:
</span></span><span style="display:flex;"><span>    Integer() { p_int = <span style="color:#6ab825;font-weight:bold">new</span> <span style="color:#6ab825;font-weight:bold">int</span>(<span style="color:#3677a9">0</span>); };
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">explicit</span> <span style="color:#447fcf">Integer</span>(<span style="color:#6ab825;font-weight:bold">int</span> value) : p_int(value) {};
</span></span><span style="display:flex;"><span>    ~Integer() { <span style="color:#6ab825;font-weight:bold">delete</span> p_int; }
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">int</span> <span style="color:#447fcf">getValue</span>() <span style="color:#6ab825;font-weight:bold">const</span> { <span style="color:#6ab825;font-weight:bold">return</span> *p_int; };
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">void</span> <span style="color:#447fcf">setValue</span>(<span style="color:#6ab825;font-weight:bold">int</span> value) { *p_int = value; };
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">void</span> <span style="color:#447fcf">Print</span>(Integer i) {
</span></span><span style="display:flex;"><span>    std::cout &lt;&lt; i.getValue();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">int</span> <span style="color:#447fcf">main</span>() {
</span></span><span style="display:flex;"><span>    Integer i(<span style="color:#3677a9">5</span>);
</span></span><span style="display:flex;"><span>    Print(i);
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">int</span> a = i.getValue();
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">return</span> <span style="color:#3677a9">0</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Running this code may cause a crash in debug mode. The reason is because of how C++ default copies values when passing by value. By default, C++ does a shallow copy of the object. A new copy of primitive types will be made for the new object to be created, but for dynamically allocated data, C++ will end up copying the pointer to the new object instead of its underlying data. This is problematic when moving data between scopes because the following will happen:</p>
<ol>
<li>We create a Integer class in Main() and pass it to the Print() function</li>
<li>Passing to the print function by value triggers a copy, a new Integer object is created and the p_int memory address is copied from the original Integer to the new one.</li>
<li>The Print function finishes and the Integer class within the function goes out of scope triggering the destructor</li>
<li>The destructor properly cleans up its memory in order to prevent a memory leak by deleting the p_int.</li>
<li>We call the getValue() function on the original Integer class which causes an error. This is because this Integer shared its memory pointer with the Integer class in the Print function which has now been deleted. We are trying to access dynamic data that no longer exists.</li>
</ol>
<p>We solve this problem by building out copy constructors for deep copies.</p>


  <span class="code-language">C&#43;&#43;</span><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">class</span> <span style="color:#447fcf;text-decoration:underline">Integer</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">int</span> *p_int;
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">public</span>:
</span></span><span style="display:flex;"><span>    Integer() { p_int = <span style="color:#6ab825;font-weight:bold">new</span> <span style="color:#6ab825;font-weight:bold">int</span>(<span style="color:#3677a9">0</span>); };
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">explicit</span> <span style="color:#447fcf">Integer</span>(<span style="color:#6ab825;font-weight:bold">int</span> value) : p_int(value) {};
</span></span><span style="display:flex;"><span>    Integer(<span style="color:#6ab825;font-weight:bold">const</span> Integer &amp;obj); <span style="color:#999;font-style:italic">// Copy Constructor
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>    Integer &amp; <span style="color:#6ab825;font-weight:bold">operator</span> = (<span style="color:#6ab825;font-weight:bold">const</span> Integer *obj); <span style="color:#999;font-style:italic">// Copy Assignment
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>    ~Integer() { <span style="color:#6ab825;font-weight:bold">delete</span> p_int; }
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">int</span> <span style="color:#447fcf">getValue</span>() <span style="color:#6ab825;font-weight:bold">const</span> { <span style="color:#6ab825;font-weight:bold">return</span> *p_int; };
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">void</span> <span style="color:#447fcf">setValue</span>(<span style="color:#6ab825;font-weight:bold">int</span> value) { *p_int = value; };
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>Integer::Integer(<span style="color:#6ab825;font-weight:bold">const</span> Integer &amp;obj) {
</span></span><span style="display:flex;"><span>    p_int = <span style="color:#6ab825;font-weight:bold">new</span> <span style="color:#6ab825;font-weight:bold">int</span>(obj.p_int);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>Integer&amp; Integer::<span style="color:#6ab825;font-weight:bold">operator</span> = (<span style="color:#6ab825;font-weight:bold">const</span> Integer &amp;obj) {
</span></span><span style="display:flex;"><span>    p_int = <span style="color:#6ab825;font-weight:bold">new</span> <span style="color:#6ab825;font-weight:bold">int</span>(obj.p_int);
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">return</span> *<span style="color:#6ab825;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Once these two constructors are built, the Integer class can safely be passed around by value without concern since a deep copy of the entire object will now be generated. When we pass the Integer class to the Print() function, the user-defined copy constructor will be called instead of the compiler-generated one which by default does the shallow copy.</p>
<h3 id="l-and-r-values">L and R Values<a href="#l-and-r-values">
    <svg role="img" aria-labelledby="l-and-r-values-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="l-and-r-values-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h3><p>C++ differentiates between L and R values with major implications any C++ enigneer needs to be aware of. An L value:</p>
<ol>
<li>is a variable with a name</li>
<li>can be assigned values</li>
<li>will persist beyond its expression</li>
<li>functions that return by reference return an l-value</li>
</ol>
<p>An R value:</p>
<ol>
<li>is a <em>temporary</em> value without a name</li>
<li>cannot be assigned values</li>
<li>does not persist beyond its expression</li>
<li>functions that return by value return an r-value</li>
</ol>


  <span class="code-language">C&#43;&#43;</span><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">int</span> <span style="color:#447fcf">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#999;font-style:italic">// Below, x is the l value and 12 is the r value
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>    <span style="color:#6ab825;font-weight:bold">int</span> x = <span style="color:#3677a9">12</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">int</span> y = <span style="color:#3677a9">10</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">int</span> z = <span style="color:#3677a9">8</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#999;font-style:italic">// (x + y) is an express that returns a r-value
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>    <span style="color:#6ab825;font-weight:bold">int</span> result = (x + y) + z;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>We also need to differentiate between l-value references and r-value references</p>


  <span class="code-language">C&#43;&#43;</span><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">int</span> &amp;x = <span style="color:#3677a9">12</span>; <span style="color:#999;font-style:italic">// l-value reference
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">int</span> &amp;&amp;y = <span style="color:#3677a9">14</span>; <span style="color:#999;font-style:italic">// r-value reference
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">const</span> <span style="color:#6ab825;font-weight:bold">int</span> &amp;z = y; <span style="color:#999;font-style:italic">// const l-value reference
</span></span></span></code></pre></div>
<p>l-value references can only ever bind to l-values unless the reference is marked const. r-value references can only every bind to temporaries (r-values). The syntax here allows us to detect r-values in our code so that we can properly handle them.</p>


  <span class="code-language">C&#43;&#43;</span><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">void</span> <span style="color:#447fcf">Print</span>(<span style="color:#6ab825;font-weight:bold">int</span> &amp;i) {
</span></span><span style="display:flex;"><span>    std::cout &lt;&lt; i;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">void</span> <span style="color:#447fcf">Print</span>(<span style="color:#6ab825;font-weight:bold">int</span> &amp;&amp;i) {
</span></span><span style="display:flex;"><span>    std::cout &lt;&lt; i;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">int</span> <span style="color:#447fcf">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">int</span> x = <span style="color:#3677a9">12</span>;
</span></span><span style="display:flex;"><span>    Print(x); <span style="color:#999;font-style:italic">// This will call Print(int &amp;i)
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>    Print(<span style="color:#3677a9">3</span>); <span style="color:#999;font-style:italic">// This will call Print(int &amp;&amp;i). It would also call Print(const int &amp;i) if that existed and r-value reference did not. 
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>}</span></span></code></pre></div>
<h3 id="move-semantics">Move Semantics<a href="#move-semantics">
    <svg role="img" aria-labelledby="move-semantics-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="move-semantics-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h3><p>Move semantics have two main use cases</p>
<ol>
<li>Creating deep copies of some objects is too expensive and robs us of performance</li>
<li>Some objects need to be passed around from one scope to another, but we cannot allow there to be more than one instance of that object at any given time.</li>
</ol>
<p>When using move semantics, instead of allocating new memory in order to copy the data from one object to another, we instead have the new object &lsquo;steal&rsquo; the memory from the initial object and then re-assign the memory in the initial object so that it no longer points to the memory we stole. This solves the problem of having to allocate new memory (an expensive operation) and having to worry about an object deleting memory we still want to use when it goes out of scope</p>
<p>
	
	
	<img src="/engineering/constructors-and-move-semantics-in-cpp/moving-vector.png"
	width="500"
	height="213"
	
	alt="Book Image"  title="Book Image" 
	class="single-post-image" 
	loading="lazy"
	decoding="async"
	>
</p>
<p>This will invalidate the original object since it no longer has a correct pointer to its dynamic data, but this is usually of no concern since it is a temporary (r-value) anyway. By adding overloaded constructors for r-values in our object, we can support moving these objects as r-values and improve the performance of our program</p>


  <span class="code-language">C&#43;&#43;</span><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">class</span> <span style="color:#447fcf;text-decoration:underline">Integer</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">int</span> *p_int;
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">public</span>:
</span></span><span style="display:flex;"><span>    Integer() { p_int = <span style="color:#6ab825;font-weight:bold">new</span> <span style="color:#6ab825;font-weight:bold">int</span>(<span style="color:#3677a9">0</span>); };
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">explicit</span> <span style="color:#447fcf">Integer</span>(<span style="color:#6ab825;font-weight:bold">int</span> value) : p_int(value) {};
</span></span><span style="display:flex;"><span>    Integer(<span style="color:#6ab825;font-weight:bold">const</span> Integer &amp;obj); <span style="color:#999;font-style:italic">// Copy Constructor
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>    Integer &amp; <span style="color:#6ab825;font-weight:bold">operator</span> = (<span style="color:#6ab825;font-weight:bold">const</span> Integer &amp;obj); <span style="color:#999;font-style:italic">// Copy Assignment
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>    Integer(Integer &amp;&amp;obj);
</span></span><span style="display:flex;"><span>    Integer&amp; <span style="color:#6ab825;font-weight:bold">operator</span> = (Integer &amp;&amp;obj);
</span></span><span style="display:flex;"><span>    ~Integer() { <span style="color:#6ab825;font-weight:bold">delete</span> p_int; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">int</span> <span style="color:#447fcf">getValue</span>() <span style="color:#6ab825;font-weight:bold">const</span> { <span style="color:#6ab825;font-weight:bold">return</span> *p_int; };
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">void</span> <span style="color:#447fcf">setValue</span>(<span style="color:#6ab825;font-weight:bold">int</span> value) { *p_int = value; };
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>Integer::Integer(Integer &amp;&amp;obj) {
</span></span><span style="display:flex;"><span>    p_int = obj.p_int;
</span></span><span style="display:flex;"><span>    obj.p_int = <span style="color:#6ab825;font-weight:bold">nullptr</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>Integer&amp; Integer::<span style="color:#6ab825;font-weight:bold">operator</span> = (Integer &amp;&amp;obj) {
</span></span><span style="display:flex;"><span>    p_int = obj.p_int;
</span></span><span style="display:flex;"><span>    obj.p_int = <span style="color:#6ab825;font-weight:bold">nullptr</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">return</span> *<span style="color:#6ab825;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>With these new constructors in place, when passing an Integer to a function by value where that function will return an Integer itself, we should no longer expect the deep copy from the copy constructor to be performed. Instead, the Integer within the Print() function will be returned as an r-value and efficiently moved back to the main() function as the returned Integer (this ignores that C++ often avoids all this using copy elision).</p>
<h3 id="the-rule-of-5">The Rule of 5<a href="#the-rule-of-5">
    <svg role="img" aria-labelledby="the-rule-of-5-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="the-rule-of-5-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h3><p>If a class defines any one of the following constructors, it should define them all</p>
<ul>
<li>Destructor</li>
<li>Copy Constructor</li>
<li>Copy Assignment Constructor</li>
<li>Move Constructor</li>
<li>Move Assignment Constructor</li>
</ul>
<h3 id="stdmove">std::move<a href="#stdmove">
    <svg role="img" aria-labelledby="stdmove-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="stdmove-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h3><p>Finally, there are times where we want to force our object to be moved as an r-value even when by default C++ would not consider doing this. There are two reasons for this:</p>
<ol>
<li>This will be more efficient and we no longer need the original object after forcing it into its r-value form to be moved elsewhere.</li>
<li>The object does not allow us to copy it. This could be either for business logic reasons or because of the nature of the object. This is usually done by setting the copy constructors to = delete</li>
</ol>


  <span class="code-language">C&#43;&#43;</span><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">class</span> <span style="color:#447fcf;text-decoration:underline">Integer</span> {
</span></span><span style="display:flex;"><span>    Integer() { p_int = <span style="color:#6ab825;font-weight:bold">new</span> <span style="color:#6ab825;font-weight:bold">int</span>(<span style="color:#3677a9">0</span>); };
</span></span><span style="display:flex;"><span>    <span style="color:#6ab825;font-weight:bold">explicit</span> <span style="color:#447fcf">Integer</span>(<span style="color:#6ab825;font-weight:bold">int</span> value) : p_int(value) {};
</span></span><span style="display:flex;"><span>    Integer(<span style="color:#6ab825;font-weight:bold">const</span> Integer &amp;obj) = <span style="color:#6ab825;font-weight:bold">delete</span>; <span style="color:#999;font-style:italic">// Copy Constructor
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>    Integer &amp; <span style="color:#6ab825;font-weight:bold">operator</span> = (<span style="color:#6ab825;font-weight:bold">const</span> Integer &amp;obj) = <span style="color:#6ab825;font-weight:bold">delete</span>; <span style="color:#999;font-style:italic">// Copy Assignment
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>    Integer(Integer &amp;&amp;obj);
</span></span><span style="display:flex;"><span>    Integer&amp; <span style="color:#6ab825;font-weight:bold">operator</span> = (Integer &amp;&amp;obj);
</span></span><span style="display:flex;"><span>    ~Integer() { <span style="color:#6ab825;font-weight:bold">delete</span> p_int; }
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div>
<p>When this is done, we have no choice but to pass an object by r-value only. But how can you do this? C++ supports forcing an object to be an r-value by using the std::move() feature.</p>


  <span class="code-language">C&#43;&#43;</span><div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">void</span> <span style="color:#447fcf">Print</span>(Integer i) {
</span></span><span style="display:flex;"><span>    std::cout &lt;&lt; i;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">int</span> <span style="color:#447fcf">main</span>() {
</span></span><span style="display:flex;"><span>    Integer ii(<span style="color:#3677a9">1</span>);
</span></span><span style="display:flex;"><span>    Print(std::move(ii));
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>std::move() forces the object to use the move constructor when creating the i Integer within the Print function instead of the copy constructor. The pro of this is the efficiency we gain from such an operation, the negative is if we try to use the ii variable after calling the Print function in main(), we will likely have undefined behavior since its data has been moved.</p>

    </article>
    <aside>
      <div class="single-terms">
        
          
          <a class="term" href="//localhost:1313/tags/c&#43;&#43;/">C&#43;&#43;</a></li>
          
        
      </div>
      
  
  
  

  <section>
    <h2>Share</h2>
    <div class="social-links">
      <ul class="social-icons--share">
        
        
        <a href="https://twitter.com/intent/tweet?url=%2f%2flocalhost%3a1313%2fengineering%2fconstructors-and-move-semantics-in-cpp%2f&amp;text=Constructors%20and%20Move%20Semantics%20in%20C%2b%2b" target="_blank" rel="noopener" aria-label="Share on Twitter" class="social-btn twitter">
          <li><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-twitter" width="24" height="24" viewBox="0 0 384 312" fill="var(--color-primary)"><path d="m384 36.9c-14.1 6.3-29.3 10.5-45.2 12.4 16.3-9.7 28.8-25.2 34.6-43.6-15.2 9-32.1 15.6-50 19.1-14.4-15.2-34.9-24.8-57.5-24.8-43.5 0-78.8 35.3-78.8 78.8 0 6.2.7 12.2 2 17.9-65.5-3.3-123.5-34.6-162.4-82.3-6.7 11.6-10.6 25.2-10.6 39.6 0 27.3 13.9 51.4 35 65.6-12.9-.4-25.1-4-35.7-9.9v1c0 38.2 27.2 70 63.2 77.2-6.6 1.8-13.6 2.8-20.8 2.8-5.1 0-10-.5-14.8-1.4 10 31.3 39.1 54.1 73.6 54.7-27 21.1-60.9 33.7-97.8 33.7-6.4 0-12.6-.4-18.8-1.1 34.9 22.4 76.3 35.4 120.8 35.4 144.9 0 224.1-120 224.1-224.1 0-3.4-.1-6.8-.2-10.2 15.4-11.1 28.7-25 39.3-40.8z"/></svg></li>
        </a>
        
        
        
        
        
        
        
        <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2f%2flocalhost%3a1313%2fengineering%2fconstructors-and-move-semantics-in-cpp%2f&amp;source=%2f%2flocalhost%3a1313%2fengineering%2fconstructors-and-move-semantics-in-cpp%2f&amp;title=Constructors%20and%20Move%20Semantics%20in%20C%2b%2b&amp;summary=Constructors%20and%20Move%20Semantics%20in%20C%2b%2b" target="_blank" rel="noopener" aria-label="Share on LinkedIn" class="social-btn linkedin">
          <li><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-linkedin" width="24" height="24" viewBox="0 0 352 352" fill="var(--color-primary)"><path d="M0,40v272c0,21.9,18.1,40,40,40h272c21.9,0,40-18.1,40-40V40c0-21.9-18.1-40-40-40H40C18.1,0,0,18.1,0,40z M312,32 c4.6,0,8,3.4,8,8v272c0,4.6-3.4,8-8,8H40c-4.6,0-8-3.4-8-8V40c0-4.6,3.4-8,8-8H312z M59.5,87c0,15.2,12.3,27.5,27.5,27.5 c15.2,0,27.5-12.3,27.5-27.5c0-15.2-12.3-27.5-27.5-27.5C71.8,59.5,59.5,71.8,59.5,87z M187,157h-1v-21h-45v152h47v-75 c0-19.8,3.9-39,28.5-39c24.2,0,24.5,22.4,24.5,40v74h47v-83.5c0-40.9-8.7-72-56.5-72C208.5,132.5,193.3,145.1,187,157z M64,288h47.5 V136H64V288z"/></svg></li>
        </a>
        
        
        
        <a href="mailto:?subject=Christopher%20Weaver%20-%20Constructors%20and%20Move%20Semantics%20in%20C%2b%2b.&amp;body=Constructors%20and%20Move%20Semantics%20in%20C%2b%2b%2c%20by%20Christopher%20Weaver%0a%0a%0a%2f%2flocalhost%3a1313%2fengineering%2fconstructors-and-move-semantics-in-cpp%2f%0a" target="_blank" class="social-btn email">
          <li><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-mail" width="24" height="24" viewBox="0 0 416 288" fill="var(--color-primary)"><path d="m0 16v256 16h16 384 16v-16-256-16h-16-384-16zm347 16-139 92.5-139-92.5zm-148 125.5 9 5.5 9-5.5 167-111.5v210h-352v-210z"/></svg></li>
        </a>
      </ul>
    </div>
  </section>
  
        <div class="series">
          <p>Part of the <a href="//localhost:1313/series/c&#43;&#43;/">C&#43;&#43;</a> series:</p>
          
          <ol>
              <li>
                  <a href="//localhost:1313/engineering/microbenchmarking-in-c-/">Microbenchmarking in C&#43;&#43;</a>
                
              </li>
              <li>Constructors and Move Semantics in C&#43;&#43;<span class="series-this-post">This post!</span>
                
              </li>
              <li>
                  <a href="//localhost:1313/engineering/compile-time-programming-in-c-/">Compile-Time Programming in C&#43;&#43;</a>
                
              </li>
              <li>
                  <a href="//localhost:1313/engineering/building-neural-networks-in-c-/">Building Neural Networks in C&#43;&#43;</a>
                
              </li>
              <li>
                  <a href="//localhost:1313/engineering/concurrency-in-c-/">Concurrency in C&#43;&#43;</a>
                
              </li>
              <li>
                  <a href="//localhost:1313/engineering/building-a-thread-pool/">Building a Thread Pool in C&#43;&#43;</a>
                
              </li>
              <li>
                  <a href="//localhost:1313/engineering/building-a-log-utility-class-in-cpp/">Building a Log Utility Class in C&#43;&#43;</a>
                
              </li>
              <li>
                  <a href="//localhost:1313/engineering/functional-programming-in-c-/">Functional Programming in C&#43;&#43;</a>
                
              </li>
          </ol>
        </div>
      
      
    </aside>
  </div>
</div>

    </main><footer>
  
  <div class="section footer">
    <p class="footer-copyright">&copy; 2025 &middot; 
      <a href="//localhost:1313/">Christopher Weaver</a>
      
    </p>
    
      <div class="footer-socials">
        
<div class="social-links">
  <ul class="social-icons">
    
    

    
    

    
    
    <li>
      <a href="https://github.com/crweaver225" target="_blank" rel="noopener" aria-label="Visit Github profile" class="social-btn github">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-github" width="24" height="24" viewBox="0 0 24 24" fill="var(--color-primary)"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
      </a>
    </li>
    

    
    

    
    
    <li>
      <a href="https://www.linkedin.com/in/christopher-weaver" target="_blank" rel="noopener" aria-label="Visit LinkedIn profile" class="social-btn linkedin">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-linkedin" width="24" height="24" viewBox="0 0 352 352" fill="var(--color-primary)"><path d="M0,40v272c0,21.9,18.1,40,40,40h272c21.9,0,40-18.1,40-40V40c0-21.9-18.1-40-40-40H40C18.1,0,0,18.1,0,40z M312,32 c4.6,0,8,3.4,8,8v272c0,4.6-3.4,8-8,8H40c-4.6,0-8-3.4-8-8V40c0-4.6,3.4-8,8-8H312z M59.5,87c0,15.2,12.3,27.5,27.5,27.5 c15.2,0,27.5-12.3,27.5-27.5c0-15.2-12.3-27.5-27.5-27.5C71.8,59.5,59.5,71.8,59.5,87z M187,157h-1v-21h-45v152h47v-75 c0-19.8,3.9-39,28.5-39c24.2,0,24.5,22.4,24.5,40v74h47v-83.5c0-40.9-8.7-72-56.5-72C208.5,132.5,193.3,145.1,187,157z M64,288h47.5 V136H64V288z"/></svg>
        </a>
    </li>
    

    
    
    <li>
      <a href="mailto:?to=crweaver225%40yahoo.com" target="_blank" class="social-btn email">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-mail" width="24" height="24" viewBox="0 0 416 288" fill="var(--color-primary)"><path d="m0 16v256 16h16 384 16v-16-256-16h-16-384-16zm347 16-139 92.5-139-92.5zm-148 125.5 9 5.5 9-5.5 167-111.5v210h-352v-210z"/></svg>
      </a>
    </li>
    
  </ul>
</div>

      </div>
    
  </div>
</footer>
  
  





  
  
  
    <script src="//localhost:1313/custom.js"></script>
  




  

<script src="//localhost:1313/main.js"></script>


</body>
</html>
